%% This file was automatically generated by the Octave backend of the
%% ILK-compiler, on Wed Nov 19 15:33:45 2025.


function [fr_wrist_3__fr_base,J_fr_wrist_3_fr_base] = fk1(mc, q)

% update the joint transforms:
%
fr_forearm__fr_elbow = ilk.rot_z__a_x_b(q(3));
fr_shoulder__fr_shoulder_pan = ilk.rot_z__a_x_b(q(1));
fr_upper_arm__fr_shoulder_lift = ilk.rot_z__a_x_b(q(2));
fr_wrist_1__fr_wr1 = ilk.rot_z__a_x_b(q(4));
fr_wrist_2__fr_wr2 = ilk.rot_z__a_x_b(q(5));
fr_wrist_3__fr_wr3 = ilk.rot_z__a_x_b(q(6));

% the solver's operations:
%
fr_shoulder_lift__fr_shoulder_pan = fr_shoulder__fr_shoulder_pan * mc.fr_shoulder_lift__fr_shoulder;
fr_shoulder_lift__fr_base = mc.fr_shoulder_pan__fr_base * fr_shoulder_lift__fr_shoulder_pan;
fr_elbow__fr_shoulder_lift = fr_upper_arm__fr_shoulder_lift * mc.fr_elbow__fr_upper_arm;
fr_elbow__fr_base = fr_shoulder_lift__fr_base * fr_elbow__fr_shoulder_lift;
fr_wr1__fr_elbow = fr_forearm__fr_elbow * mc.fr_wr1__fr_forearm;
fr_wr1__fr_base = fr_elbow__fr_base * fr_wr1__fr_elbow;
fr_wr2__fr_wr1 = fr_wrist_1__fr_wr1 * mc.fr_wr2__fr_wrist_1;
fr_wr2__fr_base = fr_wr1__fr_base * fr_wr2__fr_wr1;
fr_wr3__fr_wr2 = fr_wrist_2__fr_wr2 * mc.fr_wr3__fr_wrist_2;
fr_wr3__fr_base = fr_wr2__fr_base * fr_wr3__fr_wr2;
fr_wrist_3__fr_base = fr_wr3__fr_base * fr_wrist_3__fr_wr3;
J_fr_wrist_3_fr_base = zeros(6,6);
poi_J_fr_wrist_3_fr_base = fr_wrist_3__fr_base(1:3,4);

J_fr_wrist_3_fr_base(:,1) = ilk.geometricJacobianColumn_revolute(...
    poi_J_fr_wrist_3_fr_base,...
    mc.fr_shoulder_pan__fr_base(1:3,4),...
    mc.fr_shoulder_pan__fr_base(1:3,3));

J_fr_wrist_3_fr_base(:,2) = ilk.geometricJacobianColumn_revolute(...
    poi_J_fr_wrist_3_fr_base,...
    fr_shoulder_lift__fr_base(1:3,4),...
    fr_shoulder_lift__fr_base(1:3,3));

J_fr_wrist_3_fr_base(:,3) = ilk.geometricJacobianColumn_revolute(...
    poi_J_fr_wrist_3_fr_base,...
    fr_elbow__fr_base(1:3,4),...
    fr_elbow__fr_base(1:3,3));

J_fr_wrist_3_fr_base(:,4) = ilk.geometricJacobianColumn_revolute(...
    poi_J_fr_wrist_3_fr_base,...
    fr_wr1__fr_base(1:3,4),...
    fr_wr1__fr_base(1:3,3));

J_fr_wrist_3_fr_base(:,5) = ilk.geometricJacobianColumn_revolute(...
    poi_J_fr_wrist_3_fr_base,...
    fr_wr2__fr_base(1:3,4),...
    fr_wr2__fr_base(1:3,3));

J_fr_wrist_3_fr_base(:,6) = ilk.geometricJacobianColumn_revolute(...
    poi_J_fr_wrist_3_fr_base,...
    fr_wr3__fr_base(1:3,4),...
    fr_wr3__fr_base(1:3,3));


