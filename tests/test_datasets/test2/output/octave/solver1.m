%% This file was automatically generated by the Octave backend of the
%% ILK-compiler, on Wed Nov 19 15:30:59 2025.


function [wrist_3__base,v__wrist_3__base,J_wrist_3_base] = solver1(mc, q, qd)

% update the joint transforms:
%
elbow__forearm = ilk.rot_z__b_x_a(q(3));
forearm__elbow = ilk.rot_z__a_x_b(q(3));
shoulder__shoulder_pan = ilk.rot_z__a_x_b(q(1));
shoulder_lift__upperarm = ilk.rot_z__b_x_a(q(2));
upperarm__shoulder_lift = ilk.rot_z__a_x_b(q(2));
wr1__wrist_1 = ilk.rot_z__b_x_a(q(4));
wr2__wrist_2 = ilk.rot_z__b_x_a(q(5));
wr3__wrist_3 = ilk.rot_z__b_x_a(q(6));
wrist_1__wr1 = ilk.rot_z__a_x_b(q(4));
wrist_2__wr2 = ilk.rot_z__a_x_b(q(5));
wrist_3__wr3 = ilk.rot_z__a_x_b(q(6));

% the solver's operations:
%
shoulder_lift__shoulder_pan = shoulder__shoulder_pan * mc.shoulder_lift__shoulder;
shoulder_lift__base = mc.shoulder_pan__base * shoulder_lift__shoulder_pan;
elbow__shoulder_lift = upperarm__shoulder_lift * mc.elbow__upperarm;
elbow__base = shoulder_lift__base * elbow__shoulder_lift;
wr1__elbow = forearm__elbow * mc.wr1__forearm;
wr1__base = elbow__base * wr1__elbow;
wr2__wr1 = wrist_1__wr1 * mc.wr2__wrist_1;
wr2__base = wr1__base * wr2__wr1;
wr3__wr2 = wrist_2__wr2 * mc.wr3__wrist_2;
wr3__base = wr2__base * wr3__wr2;
forearm__wrist_1 = wr1__wrist_1 * mc.forearm__wr1;
upperarm__forearm = elbow__forearm * mc.upperarm__elbow;
wrist_2__wrist_3 = wr3__wrist_3 * mc.wrist_2__wr3;
shoulder__upperarm = shoulder_lift__upperarm * mc.shoulder__shoulder_lift;
wrist_1__wrist_2 = wr2__wrist_2 * mc.wrist_1__wr2;
wrist_3__base = wr3__base * wrist_3__wr3;
v__shoulder__base = zeros(6,1);
v__shoulder__base(3) = qd(1);
v__upperarm__base = zeros(6,1);
ilk.ctTwist( shoulder__upperarm, v__shoulder__base, v__upperarm__base );
v__upperarm__base(3) = v__upperarm__base(3) + qd(2);

v__forearm__base = zeros(6,1);
ilk.ctTwist( upperarm__forearm, v__upperarm__base, v__forearm__base );
v__forearm__base(3) = v__forearm__base(3) + qd(3);

v__wrist_1__base = zeros(6,1);
ilk.ctTwist( forearm__wrist_1, v__forearm__base, v__wrist_1__base );
v__wrist_1__base(3) = v__wrist_1__base(3) + qd(4);

v__wrist_2__base = zeros(6,1);
ilk.ctTwist( wrist_1__wrist_2, v__wrist_1__base, v__wrist_2__base );
v__wrist_2__base(3) = v__wrist_2__base(3) + qd(5);

v__wrist_3__base = zeros(6,1);
ilk.ctTwist( wrist_2__wrist_3, v__wrist_2__base, v__wrist_3__base );
v__wrist_3__base(3) = v__wrist_3__base(3) + qd(6);

J_wrist_3_base = zeros(6,6);
poi_J_wrist_3_base = wrist_3__base(1:3,4);

J_wrist_3_base(:,1) = ilk.geometricJacobianColumn_revolute(...
    poi_J_wrist_3_base,...
    mc.shoulder_pan__base(1:3,4),...
    mc.shoulder_pan__base(1:3,3));

J_wrist_3_base(:,2) = ilk.geometricJacobianColumn_revolute(...
    poi_J_wrist_3_base,...
    shoulder_lift__base(1:3,4),...
    shoulder_lift__base(1:3,3));

J_wrist_3_base(:,3) = ilk.geometricJacobianColumn_revolute(...
    poi_J_wrist_3_base,...
    elbow__base(1:3,4),...
    elbow__base(1:3,3));

J_wrist_3_base(:,4) = ilk.geometricJacobianColumn_revolute(...
    poi_J_wrist_3_base,...
    wr1__base(1:3,4),...
    wr1__base(1:3,3));

J_wrist_3_base(:,5) = ilk.geometricJacobianColumn_revolute(...
    poi_J_wrist_3_base,...
    wr2__base(1:3,4),...
    wr2__base(1:3,3));

J_wrist_3_base(:,6) = ilk.geometricJacobianColumn_revolute(...
    poi_J_wrist_3_base,...
    wr3__base(1:3,4),...
    wr3__base(1:3,3));


